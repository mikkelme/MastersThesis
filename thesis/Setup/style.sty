%-------------------- begin style -------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{Setup/style}[Custom LaTeX style]

%----------------- packages ------------------------
%--------- encoding ----------
\usepackage[utf8]{inputenc} % allows special characters (including æøå)
\usepackage[english]{babel} % typographic rules
\usepackage{uiomasterfp} % frontpage

%--------- color ------------
\usepackage[table]{xcolor}  % set colors
\usepackage{soul}  % set colors


%----- document formatting ---- 
\usepackage[margin=0.9in]{geometry}
% prevent orphan and widow lines
\clubpenalty = 10000
\widowpenalty = 10000
\brokenpenalty10000\relax % Do not break page at word split
\interfootnotelinepenalty=10000 % Do not split footnotes on multiple pages

%---- fonts and typography ------
\usepackage{csquotes}
\usepackage{lmodern}           % Latin Modern
\usepackage[final]{microtype}  % Improved typography
\usepackage{enumitem}          % Format lists
\setlist[itemize]{font = \upshape, before = \leavevmode}
\setlist[enumerate]{font = \upshape, before = \leavevmode}
\setlist[description]{font = \bfseries\sffamily, before = \leavevmode}
\usepackage{siunitx}
\usepackage{calrsfs}
\usepackage{fontawesome} % Github icon, etc. \faGithub
\usepackage{hologo}      % Logos, such as BibTeX
\usepackage{romannum}
\sethlcolor{yellow}


%------ header and foot --------
\usepackage{fancyhdr}

%------ sections layout --------
\usepackage{sectsty}
\sectionfont{\color{black}} %centering and color
\subsectionfont{\color{black}}  % sets color of subsections
\subsubsectionfont{\color{black}}
\usepackage{multicol}

%---------- figure & tables ---------------
\usepackage{graphicx}
\usepackage{float}
\usepackage{multirow}
\usepackage{array}
\usepackage[format=hang,font=small,labelfont=bf]{caption} % figure & table caption
\counterwithout{footnote}{chapter} % Don't reset counter after each chapter
\usepackage{longtable}
\usepackage{caption}
\usepackage{subcaption}

% Custom column types
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}} % left fixed width
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}} % center fixed width
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}} % flush right fixed width
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
\newcolumntype{X}[1]{>{\raggedright\arraybackslash}m{#1}}
\newcolumntype{?}[1]{!{\vrule width #1}} % thick line, use as {|c?{2mm}c|c|}
\usepackage{hhline}

%---------- math environment --------------
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathtools}  % also loads amsmath
\usepackage{cancel}
\renewcommand{\vec}[1]{\mathbf{#1}} % bold text instead of arrow
\newcommand*\sq{\mathbin{\vcenter{\hbox{\rule{.3ex}{.3ex}}}}}


%--------- referencing ----------------
\usepackage{hyperref} % create hyperlinks within the document
\hypersetup{ % Anders Kvellestad
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}}

\usepackage[capitalize]{cleveref}
\crefdefaultlabelformat{\textbf{#2}}
\crefname{equation}{Eq.}{Eq.} % {Type}{Singular}{Plural}
\crefname{section}{Sec.}{Sec.}
\crefname{figure}{Fig.}{Fig.}
\crefdefaultlabelformat{#2#1#3}
\usepackage{makecell}

%---------------- algorithm -------------------
\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage[toc,page]{appendix}

%--------- bibliography -----------
\usepackage[backend=bibtex, 
            style=phys, 
            biblabel=brackets]{biblatex}


% -------- Flipbook -------- CTAN
% \usepackage[debug]{flipbook}
\usepackage{flipbook}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[RE]{\leftmark}
\fancyhead[LE]{\thepage}
\fancyhead[LO]{\rightmark}
\fancyhead[RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}

\fancyfoot[LE]{
\setlength\unitlength{1cm}
\begin{picture}(0, 0)
    \put(-2.2,-1.0){
        \fbImageF{figures/flipbook/sideview/flip}{png}{scale=0.05}
        }
    \end{picture}
    }
    
\fancyfoot[RO]{
\setlength\unitlength{1cm}
\begin{picture}(0, 0)
    \put(0,-1.0){
        \fbImageF{figures/flipbook/topview/flip}{png}{scale=0.05}
        }
    \end{picture}
    }



% -------- Nomenclature --------
\usepackage{nomencl}

% Acronyms / abbreviations
\usepackage[acronym]{glossaries}
\renewcommand*{\glstextformat}[1]{\textcolor{black}{#1}}
\input{Setup/Acronyms}

%-------------------- end style ---------------------------


