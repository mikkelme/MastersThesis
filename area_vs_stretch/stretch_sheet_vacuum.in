# --- Basics --- # 
units metal
newton on #newtons 3rd law for pairs
boundary m m m  
atom_style atomic # coarse-grain liquids, solids, metals


# --- Read files --- #
read_data ../config_builder/sheet_vacuum.txt      # sheet 
include ../config_builder/info_sheet_vacuum.in    # import variables

# --- Regions and groups --- #
# Sheet 
region sheet_region block INF INF ${pullblock_yhi} ${pullblock_ylo} INF INF
group sheet region sheet_region

# Pullblocks
region PB_ylow_region  block INF INF INF ${pullblock_yhi} INF INF
region PB_yhigh_region block INF INF ${pullblock_ylo} INF INF INF
group PB_ylow region PB_ylow_region
group PB_yhigh region PB_yhigh_region
group PB_tot union PB_ylow PB_yhigh


# Moving atoms
group free_atoms subtract all PB_tot



#--- Dynamics ---#
variable temp equal 5.0 # Kelvin

mass 1 12.0107 # C

velocity free_atoms create ${temp} 5432373 dist gaussian

neighbor            0.5 bin
neigh_modify        delay 0 every 1 one 10000

# Airebo 
pair_style airebo 6.4 1 1
pair_coeff * * ../potentials/CH.airebo C # C-C

timestep            0.0005
thermo              100
fix                 nve all nve # (microcanonical) 
# fix 2 all balance 1000 1.05 shift xy 10 1.05 # balance number of particles computed on each processor 


# --- Dump --- #
dump 1 all custom 100 sheet_vacuum.data id type x y z vx vy vz


# --- Stretching procedure --- #
# Parameters
variable relax_time equal 20             # [ps]
variable pause_between equal 5          # pause between stretch and contracting [ps]
variable pause_after equal 5            # pause after contracting [ps]
variable stretch_speed_pct equal 0.01    # [% of pattern ylen per picoseconds]
variable stretch_max_pct equal 0.20 
include ./stretch_procedure.in






